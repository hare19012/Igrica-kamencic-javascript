<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
        *{
            padding: 10px;
            margin: 10px;
        }
    </style>
</head>

<body>

<div class="container" style="text-align: center">
    <h1 id="prvi"></h1>
    <input type="number" id="n">
    <button type="button" class="btn btn-success"  id="dugme">Odigraj</button>
    <div class="alert alert-primary" role="alert" id="alert">
        This is a primary alert—check it out!
    </div>

</div>
<script type="text/javascript">
    var r = Math.floor(Math.random()*(26-10))+10;
    $("#prvi").html(`Ukupan broj kamenčićca je ${r}`);
    $("#alert").html(`Prvi igrač je na potezu`);
    var igrac = true;
    var niz = [];
    var kraj = "";
    document.getElementById('dugme').addEventListener('click',
        function (){
            var n = document.getElementById('n').value;
            n = parseInt(n);
            if(n>Math.floor(r/2)){
                $("#alert").html(`Uzmite manje kamenčića`);
            }
            else{
                r -=n;
                niz.push(n);
                $("#prvi").html(`Preostali boj kamenčićca je ${r}`);
                if(igrac===true){
                    $("#alert").html(`Drugi igrač je na potezu`);
                    igrac = false;
                }
                else{
                    $("#alert").html(`Prvi igrač je na potezu`);
                    igrac = true;
                }
            }

            if(igrac===false &&  r === 1){
                $("#prvi").html(`Kraj! Pobijedio je prvi igrač`);
                document.body.style.backgroundColor = 'red';
            }
            if(r===1 && igrac=== true) {
                $("#prvi").html(`Kraj! Pobijedio je drugi igrač`);
                document.body.style.backgroundColor = 'red';

            }

            if(r===1){
                for(let i = 0;i<niz.length;i++){
                    if(i % 2 === 0) kraj += "Prvi igrač je uzeo " + niz[i] + " kamencica <br>";
                    else kraj += "Drugi igrač je uzeo " + niz[i] + " kamencica <br>";
                }
                $("#alert").html(kraj);
                document.getElementById('dugme').disabled = true;
                document.getElementById('n').disabled = true;



            }

        }
    );



</script>

</body>
</html>